<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trading Models | Platform</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>trading models</h1>
            <p class="subtitle">TRADING INFRASTRUCTURE</p>
        </header>

        <nav>
            <a href="index.html">Dashboard</a>
            <a href="signals.html">Signals</a>
            <a href="ai-insights.html">AI Insights</a>
            <a href="quality.html">Quality</a>
            <a href="resolution.html">Resolution</a>
            <a href="system.html" class="active">Trading Models</a>
            <a href="about.html">Strategy</a>
            <a href="research.html">Research</a>
            <a href="theory.html">Theory</a>
        </nav>

        <div class="content">
            <h2>Architecture</h2>

            <div class="architecture-flow">
                <div class="flow-box">
                    <h3>Signal Generation</h3>
                    <p>Mean reversion, volatility alerts, whale tracking</p>
                </div>
                <div class="flow-arrow">↓</div>
                <div class="flow-box">
                    <h3>Risk Management</h3>
                    <p>Position limits, exposure caps, spread checks</p>
                </div>
                <div class="flow-arrow">↓</div>
                <div class="flow-box">
                    <h3>Position Sizing</h3>
                    <p>Kelly Criterion for optimal bet sizing</p>
                </div>
                <div class="flow-arrow">↓</div>
                <div class="flow-box">
                    <h3>Execution</h3>
                    <p>Polymarket Agents integration</p>
                </div>
                <div class="flow-arrow">↓</div>
                <div class="flow-box">
                    <h3>Monitoring</h3>
                    <p>Dashboard, database, logs</p>
                </div>
            </div>

            <h2>Core Components</h2>

            <div class="component-grid">
                <div class="component-card">
                    <h3>Orchestrator</h3>
                    <p><code>orchestrator.py</code></p>
                    <p>Main trading loop coordinator. Fetches signals, applies risk checks, sizes positions, and executes trades.</p>
                </div>

                <div class="component-card">
                    <h3>Signal Generator</h3>
                    <p><code>mean_reversion/generator.py</code></p>
                    <p>Analyzes market data for mean reversion opportunities using z-scores and historical volatility.</p>
                </div>

                <div class="component-card">
                    <h3>Risk Manager</h3>
                    <p><code>risk_manager.py</code></p>
                    <p>Enforces position limits, total exposure caps, spread checks, and drawdown monitoring.</p>
                </div>

                <div class="component-card">
                    <h3>Position Sizer</h3>
                    <p><code>position_sizer.py</code></p>
                    <p>Implements Kelly Criterion with configurable fractions to determine optimal trade size.</p>
                </div>

                <div class="component-card">
                    <h3>Executor</h3>
                    <p><code>executor.py</code></p>
                    <p>Bridge to Polymarket Agents framework. Handles order construction, wallet signing, and trade submission.</p>
                </div>

                <div class="component-card">
                    <h3>Paper Trader</h3>
                    <p><code>paper_trader.py</code></p>
                    <p>Simulates trades without real money. Tracks P&L and validates strategy.</p>
                </div>

                <div class="component-card">
                    <h3>Data Recorder</h3>
                    <p><code>data_recorder.py</code></p>
                    <p>Captures live market data for future backtesting and strategy improvement.</p>
                </div>

                <div class="component-card">
                    <h3>Trade Logger</h3>
                    <p><code>trade_logger.py</code></p>
                    <p>Writes trade history to SQLite database and JSON logs. Provides audit trail.</p>
                </div>

                <div class="component-card">
                    <h3>Polymarket Client</h3>
                    <p><code>polymarket_data/client.py</code></p>
                    <p>API wrapper for fetching markets, orderbooks, and price history from Polymarket.</p>
                </div>
            </div>

            <h2>Model Configuration</h2>

            <table>
                <thead>
                    <tr>
                        <th>Model</th>
                        <th>Min Signal</th>
                        <th>Max Position</th>
                        <th>Kelly Fraction</th>
                        <th>Check Interval</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Conservative</strong></td>
                        <td>STRONG</td>
                        <td>$200</td>
                        <td>0.15</td>
                        <td>10 min</td>
                    </tr>
                    <tr>
                        <td><strong>Moderate</strong></td>
                        <td>MODERATE</td>
                        <td>$500</td>
                        <td>0.25</td>
                        <td>5 min</td>
                    </tr>
                    <tr>
                        <td><strong>Aggressive</strong></td>
                        <td>WEAK</td>
                        <td>$800</td>
                        <td>0.35</td>
                        <td>3 min</td>
                    </tr>
                </tbody>
            </table>

            <p>Each model runs as a separate Docker container with its own database, config, and logs. They operate independently.</p>

            <h2>Data Flow</h2>

            <p><strong>Input:</strong> Polymarket API → Market data, orderbooks, price history</p>
            <p><strong>Processing:</strong> Signal generation → Risk checks → Position sizing</p>
            <p><strong>Execution:</strong> Paper trader (simulation) or Live executor (real trades)</p>
            <p><strong>Storage:</strong> SQLite (structured) + JSON (raw logs) + CSV (market snapshots)</p>
            <p><strong>Output:</strong> Dashboard API → Vercel frontend → Browser</p>

            <h2>Technology Stack</h2>

            <div class="tech-stack">
                <h3>Infrastructure</h3>
                <span class="tech-badge">Docker</span>
                <span class="tech-badge">Docker Compose</span>
                <span class="tech-badge">Cloudflare Tunnel</span>
                <span class="tech-badge">Vercel</span>
            </div>

            <div class="tech-stack">
                <h3>Backend</h3>
                <span class="tech-badge">Python</span>
                <span class="tech-badge">FastAPI</span>
                <span class="tech-badge">SQLite</span>
                <span class="tech-badge">httpx</span>
                <span class="tech-badge">pydantic</span>
            </div>

            <div class="tech-stack">
                <h3>Frontend</h3>
                <span class="tech-badge">HTML5</span>
                <span class="tech-badge">CSS3</span>
                <span class="tech-badge">JavaScript</span>
                <span class="tech-badge">Fetch API</span>
            </div>

            <div class="tech-stack">
                <h3>Blockchain</h3>
                <span class="tech-badge">Polygon</span>
                <span class="tech-badge">USDC</span>
                <span class="tech-badge">Polymarket Agents</span>
            </div>

            <h2>Project Structure</h2>

            <pre>toolkit/
├── execution-engine/       Core trading infrastructure
│   ├── orchestrator.py     Main coordinator
│   ├── executor.py         Trade execution
│   ├── risk_manager.py     Risk controls
│   ├── position_sizer.py   Kelly Criterion
│   ├── paper_trader.py     Simulation mode
│   └── data_recorder.py    Live data capture
│
├── mean-reversion/         Signal generation
├── volatility-alerts/      Price spike detection
├── whale-tracker/          Smart money monitoring
└── polymarket-data/        API client

agents/
└── systematic_trader.py    Main trading bot

api/
└── dashboard_api.py        FastAPI backend

config/
├── active_conservative.yaml
├── active_moderate.yaml
└── active_aggressive.yaml

data/
├── trades_conservative.db
├── trades_moderate.db
├── trades_aggressive.db
└── recordings_{model}/     Live market data

vercel-frontend/
└── public/                 Dashboard pages

docker-compose.yml          Multi-container orchestration</pre>

            <h2>Trading Loop</h2>

            <ol>
                <li>Wake up (every 3-10 minutes depending on model)</li>
                <li>Fetch markets from Polymarket API</li>
                <li>Generate signals for each market</li>
                <li>Filter signals by strength threshold</li>
                <li>Check risk (position limits, total exposure, spread)</li>
                <li>Size position using Kelly Criterion</li>
                <li>Execute trade (paper: simulate, live: sign and submit)</li>
                <li>Log everything (database + JSON + CSV)</li>
                <li>Record market data for future analysis</li>
                <li>Sleep until next cycle</li>
            </ol>

            <h2>Safety Features</h2>

            <ul>
                <li>Position limits: $200-800 per trade depending on model</li>
                <li>Total exposure cap: $2,000 across all positions</li>
                <li>Max positions: 10 open positions at once</li>
                <li>Spread checks: Reject trades with spread above 5%</li>
                <li>Drawdown monitoring: Emergency stop at 25% drawdown</li>
                <li>Slippage limits: Max 2% slippage per trade</li>
                <li>Paper trading mode: Validate before going live</li>
                <li>Emergency stop script: <code>scripts/emergency_stop.py</code></li>
            </ul>

            <h2>Monitoring</h2>

            <div class="component-grid">
                <div class="component-card">
                    <h3>Live Dashboard</h3>
                    <p>Real-time P&L, win rates, trade counts for all 3 models. Auto-refreshes every 10 seconds.</p>
                </div>

                <div class="component-card">
                    <h3>SQLite Database</h3>
                    <p>Structured trade history with timestamps, prices, P&L, and metadata.</p>
                </div>

                <div class="component-card">
                    <h3>JSON Logs</h3>
                    <p>Detailed logs of every decision: signals generated, risk checks, execution results.</p>
                </div>

                <div class="component-card">
                    <h3>CSV Recordings</h3>
                    <p>Market data snapshots: best bid, best ask, spread, volume. Used for future backtesting.</p>
                </div>

                <div class="component-card">
                    <h3>Docker Logs</h3>
                    <p><code>docker compose logs [model]</code> for container-level debugging.</p>
                </div>

                <div class="component-card">
                    <h3>Health Checks</h3>
                    <p>Automated container health monitoring. Dashboard shows status.</p>
                </div>
            </div>

            <div class="highlight-box">
                <p><strong>Additional Resources:</strong></p>
                <ul>
                    <li>See <a href="theory.html">Models</a> for mathematical foundations</li>
                    <li>View <a href="index.html">Dashboard</a> for live performance</li>
                    <li>Read <a href="research.html">Research</a> for academic sources</li>
                    <li>Check <a href="https://github.com/b1rdmania/aztec-auction-analysis" target="_blank">GitHub</a> for source code</li>
                </ul>
            </div>
        </div>

        <footer>
            <p>Polymarket API Test Trading Protocol</p>
            <p><a href="https://github.com/b1rdmania/aztec-auction-analysis">GitHub Repository</a></p>
        </footer>
    </div>
</body>
</html>
